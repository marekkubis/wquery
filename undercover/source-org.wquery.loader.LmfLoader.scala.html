<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<title>org/wquery/loader/LmfLoader.scala</title>
		<link href="style.css" rel="stylesheet" type="text/css">
		</link>
		<script src="jquery.min.js" type="text/javascript">
		</script>
		<!--[if IE]><script src="excanvas.min.js" type="text/javascript"></script><![endif]-->
		<script src="jquery.flot.min.js" type="text/javascript">
		</script>
		<script src="undercover.js" type="text/javascript">
		</script>
	</head>
	<body>
		<div>
			<a href="project-dashboard.html">Dashboard</a>
			<a href="project-summary.html">Overview</a>
			<a href="index.html" target="_top">Frames</a>
			<a href="#" target="_top">No Frames</a>
		</div>
		<div>
			<h1>org/wquery/loader/LmfLoader.scala</h1>
			<div class="rounded-box">
				<div class="round4">
				</div>
				<div class="round2">
				</div>
				<div class="round1">
				</div>
				<div class="box-inner">
					<table class="item-statistics">
						<colgroup>
							<col width="300">
							</col>
							<col width="*">
							</col>
						</colgroup>
						<tbody>
							<tr>
								<td>
									<table width="100%">
										<colgroup>
											<col width="80">
											</col>
											<col width="*">
											</col>
										</colgroup>
										<tbody>
											<tr>
												<th>Complexity</th>
												<td>186</td>
											</tr>
											<tr>
												<th>Coverage</th>
												<td>1.3% (3/232)</td>
											</tr>
											<tr>
												<td colspan="2">
													<div class="coverage-bar">
														<div class="negative">
															<div class="positive" style="width: 1.3%;">
															</div>
														</div>
													</div>
												</td>
											</tr>
										</tbody>
									</table>
								</td>
								<td class="vertical-separator">
								</td>
								<td>
									<table>
										<tbody>
											<tr>
												<th>
												</th>
												<th>Count</th>
												<th>Avg. Complexity</th>
												<th>Max. Complexity</th>
												<th>S.D. of Complexity</th>
											</tr>
											<tr>
												<th>Classes</th>
												<td class="number">2</td>
												<td class="complexity">93.00</td>
												<td class="complexity">172</td>
												<td class="complexity">79.00</td>
											</tr>
											<tr>
												<th>Methods</th>
												<td class="number">39</td>
												<td class="complexity">4.77</td>
												<td class="complexity">50</td>
												<td class="complexity">11.12</td>
											</tr>
										</tbody>
									</table>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="round1">
				</div>
				<div class="round2">
				</div>
				<div class="round4">
				</div>
			</div>
		</div>
		<h3>Classes</h3>
		<table class="item-children">
			<colgroup>
				<col width="*">
				</col>
				<col width="70">
				</col>
				<col width="60">
				</col>
				<col width="60">
				</col>
				<col width="80">
				</col>
				<col width="120">
				</col>
				<col width="150">
				</col>
			</colgroup>
			<thead>
				<tr>
					<th>Class</th>
					<th>Methods</th>
					<th colspan="2">Method Complexity (Avg.,Max.)</th>
					<th>Complexity</th>
					<th colspan="2">Coverage</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<th>LmfHandler</th>
					<td class="number">29</td>
					<td class="complexity">5.93</td>
					<td class="complexity">50</td>
					<td class="complexity">172</td>
					<td class="coverage">0% (0/218)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">log() : Logger</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">org$wquery$utils$Logging$_setter_$log_$eq(Logger) : void</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">debug(Function0) : void</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">trace(Function0) : void</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">info(Function0) : void</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">warn(Function0) : void</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">error(Function0) : void</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">org$wquery$loader$LmfHandler$$locator() : Locator</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">org$wquery$loader$LmfHandler$$locator_$eq(Locator) : void</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">sensesBySynsetId() : Map</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">org$wquery$loader$LmfHandler$$synsetsById() : Map</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">senseNumbers() : Map</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">synsetRelationsTuples() : ListBuffer</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">stringRelationsTuples() : ListBuffer</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">writtenForm() : String</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">writtenForm_$eq(String) : void</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">partOfSpeech() : String</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">partOfSpeech_$eq(String) : void</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">synsetId() : String</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">synsetId_$eq(String) : void</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">setDocumentLocator(Locator) : void</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">startElement(String, String, String, Attributes) : void</td>
					<td class="complexity">33</td>
					<td class="coverage">0% (0/46)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">endDocument() : void</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">createSynsets() : void</td>
					<td class="complexity">16</td>
					<td class="coverage">0% (0/20)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">createSynsetRelations() : void</td>
					<td class="complexity">50</td>
					<td class="coverage">0% (0/65)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">createStringRelations() : void</td>
					<td class="complexity">42</td>
					<td class="coverage">0% (0/54)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">getAttributeOrWarn(String, Attributes, String, String) : String</td>
					<td class="complexity">2</td>
					<td class="coverage">0% (0/3)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">locatedWarn(String) : void</td>
					<td class="complexity">6</td>
					<td class="coverage">0% (0/7)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">&lt;init&gt;(WordNet) : void</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<th>LmfLoader</th>
					<td class="number">10</td>
					<td class="complexity">1.40</td>
					<td class="complexity">5</td>
					<td class="complexity">14</td>
					<td class="coverage">21.4% (3/14)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 21.4%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">log() : Logger</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">org$wquery$utils$Logging$_setter_$log_$eq(Logger) : void</td>
					<td class="complexity">1</td>
					<td class="coverage">100% (1/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 100.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">debug(Function0) : void</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">trace(Function0) : void</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">info(Function0) : void</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">warn(Function0) : void</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">error(Function0) : void</td>
					<td class="complexity">1</td>
					<td class="coverage">0% (0/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">canLoad(String) : boolean</td>
					<td class="complexity">1</td>
					<td class="coverage">100% (1/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 100.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">load(String, WordNet) : void</td>
					<td class="complexity">5</td>
					<td class="coverage">0% (0/5)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 0.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="4">&lt;init&gt;() : void</td>
					<td class="complexity">1</td>
					<td class="coverage">100% (1/1)</td>
					<td class="coverage">
						<div class="coverage-bar">
							<div class="negative">
								<div class="positive" style="width: 100.0%;">
								</div>
							</div>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
		<h3>Source</h3>
		<table class="source">
			<colgroup>
				<col width="60">
				</col>
				<col width="40">
				</col>
				<col width="*">
				</col>
			</colgroup>
			<tbody>
				<tr>
					<td class="line-number">1</td>
					<td class="line-touch"></td>
					<td class="line-text">package org.wquery.loader</td>
				</tr>
				<tr>
					<td class="line-number">2</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr>
					<td class="line-number">3</td>
					<td class="line-touch"></td>
					<td class="line-text">import org.wquery.utils.Logging</td>
				</tr>
				<tr>
					<td class="line-number">4</td>
					<td class="line-touch"></td>
					<td class="line-text">import javax.xml.parsers.SAXParserFactory</td>
				</tr>
				<tr>
					<td class="line-number">5</td>
					<td class="line-touch"></td>
					<td class="line-text">import java.io.{File, FileReader, BufferedReader}</td>
				</tr>
				<tr>
					<td class="line-number">6</td>
					<td class="line-touch"></td>
					<td class="line-text">import org.xml.sax.helpers.DefaultHandler</td>
				</tr>
				<tr>
					<td class="line-number">7</td>
					<td class="line-touch"></td>
					<td class="line-text">import org.xml.sax.{Attributes, Locator}</td>
				</tr>
				<tr>
					<td class="line-number">8</td>
					<td class="line-touch"></td>
					<td class="line-text">import collection.mutable.{ListBuffer, Map}</td>
				</tr>
				<tr>
					<td class="line-number">9</td>
					<td class="line-touch"></td>
					<td class="line-text">import org.wquery.model._</td>
				</tr>
				<tr>
					<td class="line-number">10</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr class="partialy-covered">
					<td class="line-number">11</td>
					<td class="line-touch">1</td>
					<td class="line-text">class LmfLoader extends WordNetLoader with Logging {</td>
				</tr>
				<tr>
					<td class="line-number">12</td>
					<td class="line-touch"></td>
					<td class="line-text">  def canLoad(url: String) = { // TODO provide an XML parser based load check</td>
				</tr>
				<tr class="completely-covered">
					<td class="line-number">13</td>
					<td class="line-touch">2</td>
					<td class="line-text">    val input = new BufferedReader(new FileReader(url))</td>
				</tr>
				<tr class="completely-covered">
					<td class="line-number">14</td>
					<td class="line-touch">2</td>
					<td class="line-text">    val header = input.readLine() + input.readLine()</td>
				</tr>
				<tr>
					<td class="line-number">15</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr class="completely-covered">
					<td class="line-number">16</td>
					<td class="line-touch">2</td>
					<td class="line-text">    input.close()</td>
				</tr>
				<tr class="completely-covered">
					<td class="line-number">17</td>
					<td class="line-touch">2</td>
					<td class="line-text">    header.contains(&quot;&lt;LexicalResource&quot;)</td>
				</tr>
				<tr>
					<td class="line-number">18</td>
					<td class="line-touch"></td>
					<td class="line-text">  }</td>
				</tr>
				<tr>
					<td class="line-number">19</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr>
					<td class="line-number">20</td>
					<td class="line-touch"></td>
					<td class="line-text">  override def load(url: String, wordNet: WordNet) = {</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">21</td>
					<td class="line-touch">0</td>
					<td class="line-text">    val factory = SAXParserFactory.newInstance</td>
				</tr>
				<tr>
					<td class="line-number">22</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">23</td>
					<td class="line-touch">0</td>
					<td class="line-text">    factory.newSAXParser.parse(new File(url), new LmfHandler(wordNet))</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">24</td>
					<td class="line-touch">0</td>
					<td class="line-text">    info(&quot;WordNet loaded via LmfLoader&quot;)</td>
				</tr>
				<tr>
					<td class="line-number">25</td>
					<td class="line-touch"></td>
					<td class="line-text">  }</td>
				</tr>
				<tr>
					<td class="line-number">26</td>
					<td class="line-touch"></td>
					<td class="line-text">}</td>
				</tr>
				<tr>
					<td class="line-number">27</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">28</td>
					<td class="line-touch">0</td>
					<td class="line-text">class LmfHandler(wordNet: WordNet) extends DefaultHandler with Logging {</td>
				</tr>
				<tr>
					<td class="line-number">29</td>
					<td class="line-touch"></td>
					<td class="line-text">  // parser attributes</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">30</td>
					<td class="line-touch">0</td>
					<td class="line-text">  private var locator: Locator = null</td>
				</tr>
				<tr>
					<td class="line-number">31</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr>
					<td class="line-number">32</td>
					<td class="line-touch"></td>
					<td class="line-text">  // global attributes</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">33</td>
					<td class="line-touch">0</td>
					<td class="line-text">  private val sensesBySynsetId = Map[String, ListBuffer[Sense]]()</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">34</td>
					<td class="line-touch">0</td>
					<td class="line-text">  private val synsetsById = Map[String, Synset]()</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">35</td>
					<td class="line-touch">0</td>
					<td class="line-text">  private val senseNumbers = Map[(String, String), Int]()</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">36</td>
					<td class="line-touch">0</td>
					<td class="line-text">  private val synsetRelationsTuples = new ListBuffer[(String, String, String)]()</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">37</td>
					<td class="line-touch">0</td>
					<td class="line-text">  private val stringRelationsTuples = new ListBuffer[(String, String, String)]()</td>
				</tr>
				<tr>
					<td class="line-number">38</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr>
					<td class="line-number">39</td>
					<td class="line-touch"></td>
					<td class="line-text">  // per lemma attributes</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">40</td>
					<td class="line-touch">0</td>
					<td class="line-text">  private var writtenForm: String = null</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">41</td>
					<td class="line-touch">0</td>
					<td class="line-text">  private var partOfSpeech: String = null</td>
				</tr>
				<tr>
					<td class="line-number">42</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr>
					<td class="line-number">43</td>
					<td class="line-touch"></td>
					<td class="line-text">  // per synset attributes</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">44</td>
					<td class="line-touch">0</td>
					<td class="line-text">  private var synsetId: String = null</td>
				</tr>
				<tr>
					<td class="line-number">45</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">46</td>
					<td class="line-touch">0</td>
					<td class="line-text">  override def setDocumentLocator(loc: Locator) { locator = loc }</td>
				</tr>
				<tr>
					<td class="line-number">47</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr>
					<td class="line-number">48</td>
					<td class="line-touch"></td>
					<td class="line-text">  override def startElement(uri: String, localName: String, tagName: String, attributes: Attributes) {</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">49</td>
					<td class="line-touch">0</td>
					<td class="line-text">    tagName match {</td>
				</tr>
				<tr>
					<td class="line-number">50</td>
					<td class="line-touch"></td>
					<td class="line-text">      case &quot;Lemma&quot; =&gt;</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">51</td>
					<td class="line-touch">0</td>
					<td class="line-text">        writtenForm = getAttributeOrWarn(tagName, attributes, &quot;writtenForm&quot;, &quot;skipping all related senses&quot;)</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">52</td>
					<td class="line-touch">0</td>
					<td class="line-text">        partOfSpeech = getAttributeOrWarn(tagName, attributes, &quot;partOfSpeech&quot;, &quot;skipping all related senses&quot;)</td>
				</tr>
				<tr>
					<td class="line-number">53</td>
					<td class="line-touch"></td>
					<td class="line-text">      case &quot;Sense&quot; =&gt;</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">54</td>
					<td class="line-touch">0</td>
					<td class="line-text">        val senseSynsetId = getAttributeOrWarn(tagName, attributes, &quot;synset&quot;, &quot;skipping the related sense&quot;)</td>
				</tr>
				<tr>
					<td class="line-number">55</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">56</td>
					<td class="line-touch">0</td>
					<td class="line-text">        if (writtenForm != null &amp;&amp; partOfSpeech != null) {</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">57</td>
					<td class="line-touch">0</td>
					<td class="line-text">          val senseNumber = senseNumbers.get((writtenForm, partOfSpeech)).getOrElse(0) + 1</td>
				</tr>
				<tr>
					<td class="line-number">58</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">59</td>
					<td class="line-touch">0</td>
					<td class="line-text">          senseNumbers.put((writtenForm, partOfSpeech), senseNumber)</td>
				</tr>
				<tr>
					<td class="line-number">60</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">61</td>
					<td class="line-touch">0</td>
					<td class="line-text">          if (senseSynsetId != null) {</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">62</td>
					<td class="line-touch">0</td>
					<td class="line-text">            if (!sensesBySynsetId.contains(senseSynsetId))</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">63</td>
					<td class="line-touch">0</td>
					<td class="line-text">              sensesBySynsetId(senseSynsetId) = new ListBuffer[Sense]()</td>
				</tr>
				<tr>
					<td class="line-number">64</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">65</td>
					<td class="line-touch">0</td>
					<td class="line-text">            sensesBySynsetId(senseSynsetId).append(new Sense(writtenForm, senseNumber, partOfSpeech))</td>
				</tr>
				<tr>
					<td class="line-number">66</td>
					<td class="line-touch"></td>
					<td class="line-text">          }</td>
				</tr>
				<tr>
					<td class="line-number">67</td>
					<td class="line-touch"></td>
					<td class="line-text">        }</td>
				</tr>
				<tr>
					<td class="line-number">68</td>
					<td class="line-touch"></td>
					<td class="line-text">      case &quot;Synset&quot; =&gt;</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">69</td>
					<td class="line-touch">0</td>
					<td class="line-text">        synsetId = getAttributeOrWarn(tagName, attributes, &quot;id&quot;, &quot;(skipping the synset)&quot;)</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">70</td>
					<td class="line-touch">0</td>
					<td class="line-text">        val bcs = attributes.getValue(&quot;baseConcept&quot;)</td>
				</tr>
				<tr>
					<td class="line-number">71</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">72</td>
					<td class="line-touch">0</td>
					<td class="line-text">        if (synsetId != null &amp;&amp; bcs != null)</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">73</td>
					<td class="line-touch">0</td>
					<td class="line-text">          stringRelationsTuples.append((synsetId, &quot;bcs&quot;, bcs))</td>
				</tr>
				<tr>
					<td class="line-number">74</td>
					<td class="line-touch"></td>
					<td class="line-text">      case &quot;Definition&quot; =&gt;</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">75</td>
					<td class="line-touch">0</td>
					<td class="line-text">        if (synsetId != null)</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">76</td>
					<td class="line-touch">0</td>
					<td class="line-text">          stringRelationsTuples.append((synsetId, &quot;gloss&quot;, attributes.getValue(&quot;gloss&quot;)))</td>
				</tr>
				<tr>
					<td class="line-number">77</td>
					<td class="line-touch"></td>
					<td class="line-text">      case &quot;Statement&quot; =&gt;</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">78</td>
					<td class="line-touch">0</td>
					<td class="line-text">        if (synsetId != null)</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">79</td>
					<td class="line-touch">0</td>
					<td class="line-text">          stringRelationsTuples.append((synsetId, &quot;example&quot;, attributes.getValue(&quot;example&quot;)))</td>
				</tr>
				<tr>
					<td class="line-number">80</td>
					<td class="line-touch"></td>
					<td class="line-text">      case &quot;SynsetRelation&quot; =&gt;</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">81</td>
					<td class="line-touch">0</td>
					<td class="line-text">        if (synsetId != null)</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">82</td>
					<td class="line-touch">0</td>
					<td class="line-text">          synsetRelationsTuples.append((synsetId, attributes.getValue(&quot;relType&quot;), attributes.getValue(&quot;target&quot;)))</td>
				</tr>
				<tr>
					<td class="line-number">83</td>
					<td class="line-touch"></td>
					<td class="line-text">      case _ =&gt;</td>
				</tr>
				<tr>
					<td class="line-number">84</td>
					<td class="line-touch"></td>
					<td class="line-text">        // skip</td>
				</tr>
				<tr>
					<td class="line-number">85</td>
					<td class="line-touch"></td>
					<td class="line-text">    }</td>
				</tr>
				<tr>
					<td class="line-number">86</td>
					<td class="line-touch"></td>
					<td class="line-text">  }</td>
				</tr>
				<tr>
					<td class="line-number">87</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr>
					<td class="line-number">88</td>
					<td class="line-touch"></td>
					<td class="line-text">  override def endDocument {</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">89</td>
					<td class="line-touch">0</td>
					<td class="line-text">    createSynsets</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">90</td>
					<td class="line-touch">0</td>
					<td class="line-text">    createSynsetRelations</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">91</td>
					<td class="line-touch">0</td>
					<td class="line-text">    createStringRelations</td>
				</tr>
				<tr>
					<td class="line-number">92</td>
					<td class="line-touch"></td>
					<td class="line-text">  }</td>
				</tr>
				<tr>
					<td class="line-number">93</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr>
					<td class="line-number">94</td>
					<td class="line-touch"></td>
					<td class="line-text">  private def createSynsets {</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">95</td>
					<td class="line-touch">0</td>
					<td class="line-text">    for ((synsetId, senses) &lt;- sensesBySynsetId) {</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">96</td>
					<td class="line-touch">0</td>
					<td class="line-text">      synsetsById(synsetId) = wordNet.store.addSynset(Some(synsetId), senses.toList, Nil)</td>
				</tr>
				<tr>
					<td class="line-number">97</td>
					<td class="line-touch"></td>
					<td class="line-text">    }</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">98</td>
					<td class="line-touch">0</td>
					<td class="line-text">    info(&quot;Synsets loaded&quot;)</td>
				</tr>
				<tr>
					<td class="line-number">99</td>
					<td class="line-touch"></td>
					<td class="line-text">  }</td>
				</tr>
				<tr>
					<td class="line-number">100</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr>
					<td class="line-number">101</td>
					<td class="line-touch"></td>
					<td class="line-text">  private def createSynsetRelations {</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">102</td>
					<td class="line-touch">0</td>
					<td class="line-text">    for ((sourceSynsetId, relationName, destinationSynsetId) &lt;- synsetRelationsTuples) {</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">103</td>
					<td class="line-touch">0</td>
					<td class="line-text">      val relation = wordNet.schema.getRelation(relationName, scala.collection.immutable.Map((Relation.Source, Set[DataType](SynsetType)))).getOrElse {</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">104</td>
					<td class="line-touch">0</td>
					<td class="line-text">        wordNet.store.addRelation(Relation.binary(relationName, SynsetType, SynsetType))</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">105</td>
					<td class="line-touch">0</td>
					<td class="line-text">        wordNet.schema.demandRelation(relationName, scala.collection.immutable.Map((Relation.Source, Set[DataType](SynsetType))))</td>
				</tr>
				<tr>
					<td class="line-number">106</td>
					<td class="line-touch"></td>
					<td class="line-text">      }</td>
				</tr>
				<tr>
					<td class="line-number">107</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">108</td>
					<td class="line-touch">0</td>
					<td class="line-text">      relation.destinationType.map { dt =&gt;</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">109</td>
					<td class="line-touch">0</td>
					<td class="line-text">        dt match {</td>
				</tr>
				<tr>
					<td class="line-number">110</td>
					<td class="line-touch"></td>
					<td class="line-text">          case SynsetType =&gt;</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">111</td>
					<td class="line-touch">0</td>
					<td class="line-text">            val sourceSynset = synsetsById.get(sourceSynsetId)</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">112</td>
					<td class="line-touch">0</td>
					<td class="line-text">            val destinationSynset =  synsetsById.get(destinationSynsetId)</td>
				</tr>
				<tr>
					<td class="line-number">113</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">114</td>
					<td class="line-touch">0</td>
					<td class="line-text">            if (sourceSynset == None)</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">115</td>
					<td class="line-touch">0</td>
					<td class="line-text">              warn(&quot;Semantic relation '&quot; + relation.name + &quot;' points to an empty or unknown source synset '&quot; + sourceSynsetId + &quot;'&quot;)</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">116</td>
					<td class="line-touch">0</td>
					<td class="line-text">            else if (destinationSynset == None)</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">117</td>
					<td class="line-touch">0</td>
					<td class="line-text">              warn(&quot;Semantic relation '&quot; + relation.name + &quot;' points to an unknown destination synset '&quot; + destinationSynsetId + &quot;'&quot;)</td>
				</tr>
				<tr>
					<td class="line-number">118</td>
					<td class="line-touch"></td>
					<td class="line-text">            else</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">119</td>
					<td class="line-touch">0</td>
					<td class="line-text">              wordNet.store.addSuccessor(sourceSynset.get, relation, destinationSynset.get)</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">120</td>
					<td class="line-touch">0</td>
					<td class="line-text">          case destinationType =&gt;</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">121</td>
					<td class="line-touch">0</td>
					<td class="line-text">            throw new RuntimeException(&quot;Semantic relation '&quot; + relation.name + &quot;' has incorrect destination type &quot; + destinationType)</td>
				</tr>
				<tr>
					<td class="line-number">122</td>
					<td class="line-touch"></td>
					<td class="line-text">        }</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">123</td>
					<td class="line-touch">0</td>
					<td class="line-text">      }.getOrElse(throw new RuntimeException(&quot;Semantic relation '&quot; + relation.name + &quot;' has no destination type&quot;))</td>
				</tr>
				<tr>
					<td class="line-number">124</td>
					<td class="line-touch"></td>
					<td class="line-text">    }</td>
				</tr>
				<tr>
					<td class="line-number">125</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">126</td>
					<td class="line-touch">0</td>
					<td class="line-text">    info(&quot;Synset relations loaded&quot;)</td>
				</tr>
				<tr>
					<td class="line-number">127</td>
					<td class="line-touch"></td>
					<td class="line-text">  }</td>
				</tr>
				<tr>
					<td class="line-number">128</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr>
					<td class="line-number">129</td>
					<td class="line-touch"></td>
					<td class="line-text">  private def createStringRelations {</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">130</td>
					<td class="line-touch">0</td>
					<td class="line-text">    for ((sourceSynsetId, relationName, destination) &lt;- stringRelationsTuples) {</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">131</td>
					<td class="line-touch">0</td>
					<td class="line-text">      val relation = wordNet.schema.getRelation(relationName, scala.collection.immutable.Map((Relation.Source, Set[DataType](SynsetType)))).getOrElse {</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">132</td>
					<td class="line-touch">0</td>
					<td class="line-text">        wordNet.store.addRelation(Relation.binary(relationName, SynsetType, StringType))</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">133</td>
					<td class="line-touch">0</td>
					<td class="line-text">        wordNet.schema.demandRelation(relationName, scala.collection.immutable.Map((Relation.Source, Set[DataType](SynsetType))))</td>
				</tr>
				<tr>
					<td class="line-number">134</td>
					<td class="line-touch"></td>
					<td class="line-text">      }</td>
				</tr>
				<tr>
					<td class="line-number">135</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">136</td>
					<td class="line-touch">0</td>
					<td class="line-text">      relation.destinationType.map { dt =&gt;</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">137</td>
					<td class="line-touch">0</td>
					<td class="line-text">        dt match {</td>
				</tr>
				<tr>
					<td class="line-number">138</td>
					<td class="line-touch"></td>
					<td class="line-text">          case StringType =&gt;</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">139</td>
					<td class="line-touch">0</td>
					<td class="line-text">            val sourceSynset = synsetsById.get(sourceSynsetId)</td>
				</tr>
				<tr>
					<td class="line-number">140</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">141</td>
					<td class="line-touch">0</td>
					<td class="line-text">            if (sourceSynset == None)</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">142</td>
					<td class="line-touch">0</td>
					<td class="line-text">              warn(&quot;Relation '&quot; + relation.name + &quot;' points to an empty or unknown source synset '&quot; + sourceSynsetId + &quot;'&quot;)</td>
				</tr>
				<tr>
					<td class="line-number">143</td>
					<td class="line-touch"></td>
					<td class="line-text">            else</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">144</td>
					<td class="line-touch">0</td>
					<td class="line-text">              wordNet.store.addSuccessor(sourceSynset.get, relation, destination)</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">145</td>
					<td class="line-touch">0</td>
					<td class="line-text">          case destinationType =&gt;</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">146</td>
					<td class="line-touch">0</td>
					<td class="line-text">            throw new RuntimeException(&quot;Relation '&quot; + relation.name + &quot;' has incorrect destination type &quot; + destinationType)</td>
				</tr>
				<tr>
					<td class="line-number">147</td>
					<td class="line-touch"></td>
					<td class="line-text">        }</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">148</td>
					<td class="line-touch">0</td>
					<td class="line-text">      }.getOrElse(throw new RuntimeException(&quot;Relation '&quot; + relation.name + &quot;' has no destination type&quot;))</td>
				</tr>
				<tr>
					<td class="line-number">149</td>
					<td class="line-touch"></td>
					<td class="line-text">    }</td>
				</tr>
				<tr>
					<td class="line-number">150</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">151</td>
					<td class="line-touch">0</td>
					<td class="line-text">    info(&quot;String relations loaded&quot;)</td>
				</tr>
				<tr>
					<td class="line-number">152</td>
					<td class="line-touch"></td>
					<td class="line-text">  }</td>
				</tr>
				<tr>
					<td class="line-number">153</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr>
					<td class="line-number">154</td>
					<td class="line-touch"></td>
					<td class="line-text">  private def getAttributeOrWarn(tag: String, attributes: Attributes, name: String, note: String) = {</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">155</td>
					<td class="line-touch">0</td>
					<td class="line-text">    val value = attributes.getValue(name)</td>
				</tr>
				<tr>
					<td class="line-number">156</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">157</td>
					<td class="line-touch">0</td>
					<td class="line-text">    if (value == null)</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">158</td>
					<td class="line-touch">0</td>
					<td class="line-text">      locatedWarn(tag + &quot; has no '&quot; + name + &quot;' attribute (&quot; + note + &quot;)&quot;)</td>
				</tr>
				<tr>
					<td class="line-number">159</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">160</td>
					<td class="line-touch">0</td>
					<td class="line-text">    value</td>
				</tr>
				<tr>
					<td class="line-number">161</td>
					<td class="line-touch"></td>
					<td class="line-text">  }</td>
				</tr>
				<tr>
					<td class="line-number">162</td>
					<td class="line-touch"></td>
					<td class="line-text"></td>
				</tr>
				<tr>
					<td class="line-number">163</td>
					<td class="line-touch"></td>
					<td class="line-text">  private def locatedWarn(message: String)</td>
				</tr>
				<tr class="not-covered">
					<td class="line-number">164</td>
					<td class="line-touch">0</td>
					<td class="line-text">    = warn(&quot;(&quot; + locator.getLineNumber + &quot;, &quot; + locator.getColumnNumber + &quot;) &quot; + message)</td>
				</tr>
				<tr>
					<td class="line-number">165</td>
					<td class="line-touch"></td>
					<td class="line-text">}</td>
				</tr>
			</tbody>
		</table>
		<div class="copyright">
			<p>
				<a href="http://code.google.com/p/undercover/" target="_top">Undercover</a> | Copyright � 2009 Eung-ju PARK. All rights reserved. Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_top">Apache License, Version 2.0</a>
			</p>
		</div>
	</body>
</html>